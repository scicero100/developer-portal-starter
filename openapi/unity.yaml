openapi: 3.0.3
servers:
  - url: https://qa-pxp-cagetransactions-api.azurewebsites.net/api/v1
info:
  description: >-
    This is an API reference for all internal Unity services
  version: 1.0.0
  title: Unity (Internal Services)
  contact:
    email: salvatore.cicero@pxpfinancial.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
paths:
  /deposits:
    servers:
      - url: https://qa-pxp-cagetransactions-api.azurewebsites.net/api/v1  
    post:
      summary: Create a Cage Deposit
      operationId: createCageDeposit
      tags:
        - Cage Transactions
      requestBody:
        description: Create a Cage Deposit
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                site:
                  $ref: "#/components/schemas/site"
                merchantTransactionReference:
                  $ref: "#/components/schemas/merchantTransactionReference"
                amount:
                  $ref: "#/components/schemas/amount"
                paymentTypeAmounts:
                  description: "This is a collection of payment types used that equal the amount"
                  anyOf:
                    - $ref: "#/components/schemas/cash"
                    - $ref: "#/components/schemas/chip"
                    - $ref: "#/components/schemas/cheque"
                    - $ref: "#/components/schemas/other"                  
                shopper:
                  $ref: "#/components/schemas/shopperId"
            example:
              site: SITE-0001
              merchantTransactionReference: This is my transaction reference
              amount:
                value: 30.24
                currency: EUR
              paymentTypeAmounts:
                cash: 10.08
                chip: 10.08
                cheque: 10.08                  
              shopper:
                id: Shopper_01
      responses:
        200:
          description: Cage Deposit Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cageDepositTransactionResponse"                  
              examples:
                Executed:
                  value:
                    systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                    state: Executed
                    stateMessage: 'Deposit Executed'
                Error:
                  value:
                    systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                    state: Error
                    stateMessage: 'Deposit Error'
                Declined:
                  value:
                    systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                    state: Declined
                    stateMessage: 'Deposit Declined'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        400:
          description: Invalid Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    $ref: "#/components/schemas/errorCode"
                  errorReason:
                    $ref: "#/components/schemas/errorReason"
                  correlationId:
                    $ref: "#/components/schemas/correlationId"
                  details:
                    $ref: "#/components/schemas/details"                         
    get:
      summary: Get Transaction Details for a Cage Deposit
      operationId: getCageDepositTransactionDetails
      tags:
        - Cage Transactions
      parameters:
        - in: query
          name: site
          description: This is the unique transaction reference returned by Pxp Financial
          required: true
          schema:
            $ref: "#/components/schemas/site"
        - in: query
          name: merchantTransactionReference
          required: false
          description: The merchantTransactionReference is used to uniquely identify a transaction. This Id is used in all communication with you about the transaction status. There must be a unique value per transaction      
          schema:
            $ref: "#/components/schemas/merchantTransactionReference"
      responses:
        200:
          description: Cage Deposit Transaction Details Response
          content:
            application/json:
              schema:
                 $ref: "#/components/schemas/cageDepositTransactionDetailsResponse"
              examples:
                Pending:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Pending
                      stateMessage: 'Deposit Pending'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
                Error:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Error
                      stateMessage: 'Deposit Error'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com                      
                Executed:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Executed
                      stateMessage: 'Deposit Executed'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com                      
                Declined:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Declined
                      stateMessage: 'Deposit Declined'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
                Cancelled:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Cancelled
                      stateMessage: 'Deposit Cancelled'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
  /withdrawals:
    post:
      summary: Create a Cage Withdrawal
      operationId: createWithdrawal
      tags:
        - Cage Transactions   
      requestBody:
        description: Create a Cage Withdrawal
        required: true      
        content:
          application/json:
            schema:
              type: object
              properties:
                site:
                  $ref: "#/components/schemas/site"
                merchantTransactionReference:
                  $ref: "#/components/schemas/merchantTransactionReference"
                amount:
                  $ref: "#/components/schemas/amount"               
                shopper:
                  $ref: "#/components/schemas/shopper"
      responses:
        200:
          description: Cage Withdrawal Response
          content:
            application/json:
              schema:
                 $ref: "#/components/schemas/cageWithdrawalTransactionResponse"
              examples:
                Pending:
                  value:
                    systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                    state: Pending
                    stateMessage: 'Withdrawal Pending'
                Error:
                  value:
                    systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                    state: Error
                    stateMessage: 'Withdrawl Error'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        400:
          description: Invalid Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    $ref: "#/components/schemas/errorCode"
                  errorReason:
                    $ref: "#/components/schemas/errorReason"
                  correlationId:
                    $ref: "#/components/schemas/correlationId"
                  details:
                    $ref: "#/components/schemas/details"                        
    get:
      summary: Get Transaction Details for a Cage Withdrawal
      operationId: getCageWithdrawalTransactionDetails
      tags:
        - Cage Transactions
      parameters:
        - in: query
          name: site
          description: This is the unique transaction reference returned by Pxp Financial
          required: true
          schema:
            $ref: "#/components/schemas/site"
        - in: query
          name: merchantTransactionReference
          required: false
          description: The merchantTransactionReference is used to uniquely identify a transaction. This Id is used in all communication with you about the transaction status. There must be a unique value per transaction      
          schema:
            $ref: "#/components/schemas/merchantTransactionReference"
      responses:
        200:
          description: Cage Withdrawal Transaction Details Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/cageWithdrawalTransactionDetailsResponse"   
              examples:
                Pending:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Pending
                      stateMessage: Withdrawal Pending
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
                Executed:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Executed
                      stateMessage: 'Withdrawal Executed'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com   
                Error:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Error
                      stateMessage: 'Withdrawal Error'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
                Expired:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Expired
                      stateMessage: 'Withdrawal Expired'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
                Cancelled:
                  value:
                    - systemTransactionReference: 1ed768bb-e88a-4636-91ae-67927ccbb02b
                      state: Cancelled
                      stateMessage: 'Withdrawal Cancelled'
                      site: SITE-0001
                      merchantTransactionReference: This is my transaction reference
                      amount:
                        value: 30.24
                        currency: EUR
                      paymentTypeAmounts:
                        cash: 10.08
                        chip: 10.08
                        cheque: 10.08                        
                      shopper:
                        id: Shopper_01
                        firstName: John
                        lastName: Doe
                        dateOfBirth: '2022-01-26'
                        email: john.doe@pxpfinancial.com
  /withdrawals/{systemTransactionReference}/executions:
    post:
      summary: Execute a Cage Withdrawal
      operationId: executeCageWithdrawal
      tags:
        - Cage Transactions
      requestBody:
        description: Execute a Cage Withdrawal
        required: true
        content:
          application/json:
            schema:
              type: object 
              properties:
                paymentTypeAmounts:
                  description: "This is a collection of payment types used that equal the amount"
                  anyOf:
                    - $ref: "#/components/schemas/cash"
                    - $ref: "#/components/schemas/chip"
                    - $ref: "#/components/schemas/cheque"
                    - $ref: "#/components/schemas/other"
      parameters:
        - name: systemTransactionReference
          in: path
          description: This is the unique transaction reference returned by Pxp Financial
          required: true
          schema:
            type: string
            minimum: 36
            maximum: 36
            example: 1ed768bb-e88a-4636-91ae-67927ccbb02b                    
            pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
      description: This is the unique transaction reference returned by Pxp Financial            
      responses:
        200:
          description: Withdrawal Response
          content:
            application/json:
              schema:
                 $ref: "#/components/schemas/cageWithdrawalExecutionResponse"
              example:
                systemTransactionReference: "1ed768bb-e88a-4636-91ae-67927ccbb02b"
                state: "Executed"
                stateMessage: "Withdrawal Executed"
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        400:
          description: Invalid Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    $ref: "#/components/schemas/errorCode"
                  errorReason:
                    $ref: "#/components/schemas/errorReason"
                  correlationId:
                    $ref: "#/components/schemas/correlationId"
                  details:
                    $ref: "#/components/schemas/details"                 
  /merchants:
    servers:
      - url: https://qa-pxp-onboarding-api.azurewebsites.net/api/v1
    get:
      summary: List all merchants
      operationId: listMerchants
      tags:
        - Merchant Setup
      parameters:
        - name: partner
          in: query
          description: The unique partner identifier. This value is generated by PXP Financial
          schema:
            type: string
            maxLength: 20
            example: "PART-0001"
      responses:
        200:
          description: An array of merchants
          content:
            application/json:
              schema:
                type: array
                items: 
                  $ref: "#/components/schemas/merchants"   
  /merchants/{merchant}:
    servers:
      - url: https://qa-pxp-onboarding-api.azurewebsites.net/api/v1
    get:
      summary: Get merchant details
      operationId: GetMerchant
      tags:
        - Merchant Setup
      parameters:
        - name: merchant
          in: path
          description: The unique merchant identifier. This value is generated by PXP Financial
          required: true
          schema:
            type: string
            maxLength: 20
            example: "MERC-0001"
      responses:
        200:
          description: Merchant details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/merchants"                     
  /sites:
    servers:
      - url: https://qa-pxp-onboarding-api.azurewebsites.net/api/v1
    get:
      summary: List all sites
      operationId: listSites
      tags:
        - Merchant Setup
      parameters:
        - name: partner
          in: query
          description: The unique partner identifier. This value is generated by PXP Financial
          schema:
            type: string
            maxLength: 20
            example: "PART-0001"
        - name: merchant
          in: query
          description: The unique merchant identifier. This value is generated by PXP Financial
          schema:
            type: string
            maxLength: 20
            example: "MERC-0001"            
      responses:
        200:
          description: An array of sites
          content:
            application/json:
              schema:
                type: array
                items:
                   $ref: "#/components/schemas/sites"
  /sites/{site}:
    servers:
      - url: https://qa-pxp-onboarding-api.azurewebsites.net/api/v1
    get:
      summary: Get site details
      operationId: getSite
      tags:
        - Merchant Setup
      parameters:
        - name: site
          in: path
          description: The unique site identifier. This value is generated by PXP Financial
          required: true
          schema:
            type: string
            maxLength: 20
            example: "SITE-001"
      responses:
        200:
          description: Site Details
          content:
            application/json:
              schema:
                 $ref: "#/components/schemas/sites"               
  /currencies:
    servers:
      - url: https://qa-pxp-systemsetup-api.azurewebsites.net/api/v1
    get:
      summary: List all currencies
      operationId: listCurrencies
      tags:
        - System Setup
      parameters:
        - name: currencyCode
          in: query
          description: "The ISO 4217 code of the currency"
          schema:
            type: string
            minLength: 3
            maxLength: 3
            example: "GBP"
      responses:
        200:
          description: An array of currencies
          content:
            application/json:
              schema:
                type: array
                items:
                   $ref: "#/components/schemas/currencies"
  /countries:
    servers:
      - url: https://qa-pxp-systemsetup-api.azurewebsites.net/api/v1
    get:
      summary: List all countries
      operationId: listCoutries
      tags:
        - System Setup
      parameters:
        - name: countryAlphaThreeCode
          in: query
          description: The ISO 3166-1 alpha three code of the country
          schema:
            type: string
            minLength: 3
            maxLength: 3
            example: "GBR"
      responses:
        200:
          description: An array of countries
          content:
            application/json:
              schema:
                type: array
                items:
                   $ref: "#/components/schemas/countries"
  /languages:
    servers:
      - url: https://qa-pxp-systemsetup-api.azurewebsites.net/api/v1
    get:
      summary: List all languages
      operationId: listLanguages
      tags:
        - System Setup
      parameters:
        - name: threeLetterCode
          in: query
          description: The ISO 639-1 three letter language code
          schema:
            type: string
            minLength: 3
            maxLength: 3
            example: "eng"
      responses:
        200:
          description: An array of languages
          content:
            application/json:
              schema:
                type: array
                items:
                   $ref: "#/components/schemas/languages"                   
components:
  schemas:
    site:
      required: 
        - site
      type: string
      description: The unique site identifier, with which you want to process the transaction. This can be for example a store, hotel, a website etc. This value is generated by PXP Financial
      example: "SITE-0001"
      maximum: 20
    merchantTransactionReference:
      required: 
        - merchantTransactionReference
      type: string
      description: The merchantTransactionReference is used to uniquely identify a transaction. This Id is used in all communication with you about the transaction status. There must be a unique value per transaction
      example: "This is my transaction reference"
      maximum: 50      
    amount:
      type: object
      description: This is the amount of the transaction.
      required:
        - amount      
      properties:
        value:
          type: number
          description: This is the amount of the transaction.  The numbers after the decimal will be zero padded if they are less than the expected currency exponent i.e. GBP 1.1 = GBP 1.10 OR EUR 1 = EUR 1.00 OR BHD 1.3 = 1.300  The transaction will be rejected if numbers after the decimal are greater than the expected currency exponent i.e. GBP 1.234 OR if a decimal is supplied when the currency of exponent does not require it i.e. JPY 1.0
          example: 30.32
        currency:
          type: string
          required: 
            - currency
          description: This is the currency of the transaction. This is the currency code. A three character code in accordance with ISO 4217
          minimum: 3
          maximum: 3
          example: "EUR" 
    systemTransactionReference:
      required: 
        - systemTransactionReference
      type: string
      example: 1ed768bb-e88a-4636-91ae-67927ccbb02b                    
      pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
      minimum: 36
      maximum: 36  
      description: This is the unique transaction reference returned by Pxp Financial          
    shopperId:
      type: object 
      required:
        - id
      properties:
        id:
          type: string
          pattern: '^[A-Za-z0-9 _-]'
          example: "Shopper_01"
          maximum: 50      
          description: This is the unique identifier of the shopper
    error:
      required:
        - errorCode
        - errorReason
        - correlationId
      properties:
        errorCode:
          type: string
        errorReason:
          type: string
        correlationId:
          type: string
        details:
          type: array  
          items: {}
    errorCode:
      type: string
      description: "This is the error code returned for the operation"
      example: "INVALID_REQUEST"
      required:
        - errorCode
    errorReason:
      type: string
      description: "This is the error reason returned for the operation"
      example: "One or more validation errors occurred."
      required:
        - errorReason
    correlationId:
      type: string
      example: "81f32b80-2ba0-4430-8ecd-0b559274ba9c"
      description: "This is a unqiue reference generated by the PSP to locate the error"
      required:
        - correlationId
    details:
      type: array  
      items: {}
      example: ["'$.site - The site field is required."]
    cash:
      properties:
        cash:
          type: number
          example: 10.08
          description: "This is the total amount in cash in order to make a Cage deposit or withdrawal"
    chip:
      properties:
        chip:    
          type: number
          example: 10.08
          description: "This is the total amount in chips in order to make a Cage deposit or withdrawal"
    cheque:
      properties:
        cheque:    
          type: number
          example: 5.08
          description: "This is the total amount in cheques in order to make a Cage deposit or withdrawal"
    other:
      properties:
        other:      
          type: number
          example: 5.08
          description: "This is the total amount other than cash, chips or cheques in order to make a Cage deposit or withdrawal"                       
    shopper:
      description: "This is the details of the shopper"
      required:
        - id
        - firstName
        - lastName
        - dateOfBirth
        - email
      properties:
        id:
          type: string
          pattern: '^[A-Za-z0-9 _-]'
          example: "Shopper_01"
          maximum: 50      
          description: This is the unique identifier of the shopper
        firstName:
          type: string
          description: This is the first name of the shopper
          example: John          
          maximum: 100
        lastName:
          type: string
          maximum: 100
          example: Doe
          description: This is the last name of the shopper
        dateOfBirth: 
          type: string
          minimum: 10
          maximum: 10
          format: date
          description: This is the date of birth of the shopper. Format [YYYY-MM-DD]
        email: 
          type: string
          maximum: 100
          format: email
          description: This is the email address of the shopper
          example: "john.doe@pxpfinancial.com"
    transactionResponse:
      required:
        - systemTransactionReference
        - state
        - stateMessage
      properties:
        systemTransactionReference:
          type: string
          example: 1ed768bb-e88a-4636-91ae-67927ccbb02b                    
          pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
          minimum: 36
          maximum: 36  
          description: This is the unique transaction reference returned by Pxp Financial
        state:
          type: string
          example: "Approved"
          description: This is the result of the transaction
          enum:
            - Approved
        stateMessage:
          type: string
          example: "Approved"
          description: This is the result message of the transaction
    cageDepositState:
      type: string
      example: "Executed"
      description: This is the result of the transaction
      enum:
        - Declined
        - Error
        - Executed
    cageWithdrawalPreExecutionState:
      type: string
      example: "Pending"
      description: This is the result of the transaction
      enum:
        - Pending
        - Error
    cageWithdrawalExecutionState:
      type: string
      example: "Executed"
      description: This is the result of the transaction
      enum:
        - Executed
        - Expired
        - Cancelled
    cageWithdrawalState:
          type: string
          example: "Executed"
          description: This is the result of the transaction
          enum:
            - Cancelled
            - Error
            - Executed
            - Expired            
            - Pending
    cageDepositTransactionResponse:
      required:
        - systemTransactionReference
        - state
        - stateMessage      
      properties:
        systemTransactionReference:
          $ref: "#/components/schemas/systemTransactionReference"                        
        state:
          $ref: "#/components/schemas/cageDepositState"
        stateMessage:
          type: string
          description: This is the state of the transaction  
          example: ""
    cageWithdrawalTransactionResponse:
      required:
        - systemTransactionReference
        - state
        - stateMessage      
      properties:
        systemTransactionReference:
          $ref: "#/components/schemas/systemTransactionReference"                        
        state:
          $ref: "#/components/schemas/cageWithdrawalPreExecutionState"
        stateMessage:
          type: string
          description: This is the state of the transaction  
          example: ""
    cageWithdrawalExecutionResponse:
      required:
        - systemTransactionReference
        - state
        - stateMessage      
      properties:
        systemTransactionReference:
          $ref: "#/components/schemas/systemTransactionReference"                        
        state:
          $ref: "#/components/schemas/cageWithdrawalExecutionState"
        stateMessage:
          type: string
          description: This is the state of the transaction  
          example: ""
    cageDepositTransactionDetailsResponse:
      required:
        - systemTransactionReference
        - state
        - stateMessage      
        - site
        - merchantTransactionReference
        - amount
        - paymentTypeAmounts
        - shopper
      type: array
      items:             
        properties:
          systemTransactionReference:
            $ref: "#/components/schemas/systemTransactionReference"                          
          state:
            $ref: "#/components/schemas/cageDepositState"
          stateMessage:
            type: string
            description: This is the state of the transaction  
            example: ""
          site:
            $ref: "#/components/schemas/site"
          merchantTransactionReference:
            $ref: "#/components/schemas/merchantTransactionReference"          
          amount:
            $ref: "#/components/schemas/amount"
          paymentTypeAmounts:
            description: "This is a collection of payment type amounts used that equal the amount"
            anyOf:
              - $ref: "#/components/schemas/cash"
              - $ref: "#/components/schemas/chip"
              - $ref: "#/components/schemas/cheque"
              - $ref: "#/components/schemas/other"            
          shopper:
            $ref: "#/components/schemas/shopper"
    cageWithdrawalTransactionDetailsResponse:
      required:
        - systemTransactionReference
        - state
        - stateMessage      
        - site
        - merchantTransactionReference
        - amount
        - shopper
      type: array
      items:         
        properties:
          systemTransactionReference:
            $ref: "#/components/schemas/systemTransactionReference"                              
          state:
            $ref: "#/components/schemas/cageWithdrawalState"
          stateMessage:
            type: string
            description: This is the state of the transaction  
            example: ""
          site:
            $ref: "#/components/schemas/site"
          merchantTransactionReference:
            $ref: "#/components/schemas/merchantTransactionReference"          
          amount:
            $ref: "#/components/schemas/amount"
          paymentTypeAmounts:
            description: "This is a collection of payment type amounts used that equal the amount"          
            anyOf:
              - $ref: "#/components/schemas/cash"
              - $ref: "#/components/schemas/chip"
              - $ref: "#/components/schemas/cheque"
              - $ref: "#/components/schemas/other"                            
          shopper:
            $ref: "#/components/schemas/shopper"
    merchants:
      required:
        - id
        - name
        - merchantCategoryCode
        - address  
      properties:
          id: 
            type: string
            example: "MERC-0001"
            maximum: 20
            description: The unique merchant identifier, with which you want to process the transaction. This value is generated by PXP Financial
          name: 
            type: string  
            example: "Merchant Account 1"
            maximum: 100
            description: The merchant name, with which you want to process the transaction. This value is generated by PXP Financial
          merchantCategoryCode: 
            type: string  
            example: "5541"
            minimum: 4
            maximum: 4
            description: The merchant category code assigned to the merchant
          address: 
            $ref: "#/components/schemas/address"
            description: The address of the merchant
    sites:
      required:
        - id
        - name
        - merchantId
      properties:
          id: 
            type: string
            example: "SITE-0001"
            maximum: 20
            description: The unique site identifier, with which you want to process the transaction. This value is generated by PXP Financial
          name: 
            type: string  
            example: "Site 1"
            maximum: 100
            description: The site name, with which you want to process the transaction. This value is generated by PXP Financial
          merchantId: 
            type: string  
            example: "MERC-0001"
            maximum: 20
            description: The unique merchant identifier associated with the site identifier 
    address:
      required:
        - street
        - houseNoName
        - postalCode
        - city
        - state
        - country
      properties:
        street:
          type: string
          example: "Street Name"
          description: "The street name of the merchant"
          maximum: 100         
        houseNoName:
          type: string
          example: "House Name"
          description: "The house name or number of the merchant"
          maximum: 100  
        postalCode:
          type: string
          example: "Postal Code"
          description: "The postal code of the merchant"
          maximum: 15
        city:
          type: string
          example: "City"
          description: "The city of the merchant"
          maximum: 100  
        state:
          type: string
          example: "State"
          description: "The state of the merchant"
          maximum: 100
        country:
          type: string
          example: "GB"
          description: "The country of the merchant.  This is an ISO 3166-1 format"
          minimum: 2
          maximum: 2            
    currencies:
      required:
        - code
        - numericCode
        - name
        - symbol
        - exponent
      properties:
          code: 
            type: string
            example: "GBP"
            minimum: 3
            maximum: 3
            description: "The ISO 4217 code of the currency"
          numericCode: 
            type: string  
            example: "826"
            minimum: 3
            maximum: 3
            description: "The ISO 4217 numeric code of the currency"
          name: 
            type: string  
            example: "British Pound"
            description: "The name of the currency"
          symbol: 
            type: string  
            example: "£"
            description: "The symbol of the currency"
          exponent: 
            type: integer  
            example: 2
            description: "The minor units of the currency"
    countries:
      required:
        - twoLetterCode
        - threeLetterCode
        - numericCode
        - name
      properties:
        twoLetterCode: 
          type: string
          example: "GB"
          minimum: 2
          maximum: 2
          description: "The ISO 3166-1 two letter code of the country"
        threeLetterCode: 
          type: string  
          example: "GBR"
          minimum: 3
          maximum: 3
          description: "The ISO 3166-1 three letter code of the country"
        numericCode: 
          type: string
          minimum: 3
          maximum: 3            
          example: "826"
          description: "The ISO 3166-1 numeric code of the country"
        name: 
          type: string  
          example: "The United Kingdom of Great Britain and Northern Ireland"
          description: The name of the country
    languages:
      required:
        - twoLetterCode
        - threeLetterCode
        - name
      properties:
        twoLetterCode: 
          type: string
          example: "en"
          minimum: 2
          maximum: 2
          description: "The ISO 639-1 two letter code of the language"
        threeLetterCode:
          type: string  
          example: "eng"
          minimum: 3
          maximum: 3
          description: "The ISO 639-1 three letter code of the language"
        name: 
          type: string  
          example: "English"
          description: The name of the language  